# 标签页宽度自动调整功能

## 🎯 功能概述

实现了标签页宽度自动调整功能，当标签页数量增加时，每个标签页会自动变窄以适应可用空间，避免出现横向滚动条。

## 🔧 实现原理

### 1. CSS Flexbox 布局
- 使用 `flex: 1` 让标签页平均分配可用空间
- 设置 `min-width: 100px` 防止标签页过窄
- 设置 `max-width: 250px` 防止标签页过宽
- 容器使用 `overflow: hidden` 避免滚动条

### 2. JavaScript 动态计算
- `adjustTabWidths()` 方法计算最佳标签页宽度
- 根据容器宽度和标签页数量动态调整
- 监听窗口大小变化，自动重新计算

### 3. 智能标题长度调整
- 根据标签页数量动态调整标题显示长度
- 2个标签页：最多显示25个字符
- 4个标签页：最多显示20个字符
- 6个标签页：最多显示15个字符
- 8个以上：最多显示8个字符

## 📐 宽度计算逻辑

```javascript
// 计算每个标签页的宽度
let tabWidth = Math.floor(containerWidth / tabCount);

// 应用最小最大宽度限制
if (tabWidth < 100) tabWidth = 100;      // 最小宽度
if (tabWidth > 250) tabWidth = 250;      // 最大宽度

// 如果标签页总宽度超过容器，启用滚动
if (totalTabWidth > containerWidth) {
    tabsContainer.style.overflowX = 'auto';
}
```

## 🚀 触发时机

标签页宽度会在以下情况下自动调整：

1. **新建标签页** - `createTabElement()` 后调用
2. **关闭标签页** - `closeTab()` 后调用  
3. **窗口大小变化** - `window.resize` 事件触发
4. **页面初始化** - `init()` 完成后调用

## 🎨 视觉效果

- **平滑过渡**：使用 CSS `transition: all 0.2s ease` 
- **响应式设计**：支持各种窗口大小
- **主题兼容**：浅色和暗黑主题都支持
- **优雅降级**：当空间不足时显示滚动条

## 🔍 测试场景

1. **少量标签页（1-3个）**
   - 标签页宽度较宽，显示完整标题
   - 不超过最大宽度限制

2. **中等数量标签页（4-6个）**
   - 标签页宽度适中，标题适当缩短
   - 平均分配可用空间

3. **大量标签页（7+个）**
   - 标签页变窄，标题大幅缩短
   - 保持最小宽度，必要时显示滚动条

4. **窗口大小变化**
   - 实时重新计算和调整
   - 保持最佳视觉效果

## 📝 注意事项

- 最小宽度确保关闭按钮始终可见
- 标题过长时自动添加省略号
- 支持触摸设备的滚动操作
- 兼容各种屏幕分辨率